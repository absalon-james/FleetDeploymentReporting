<hx-panel>
  <hx-panelhead>
    <div class="diffCtrls right">
      <div class="btnGrpRight hxBtnGroup hxLink">
        <button class="hxBtn" ng-click="$ctrl.close()"><hx-icon type="times"></hx-icon></button>
      </div>
    </div>
    <div class="hxBox-xs">
      <h2>
        Diffing {{$ctrl.diff.type}}: {{$ctrl.diff.id}} at time {{$ctrl.diff.leftTime}} and {{$ctrl.diff.rightTime}}
      </h2>
    </div>
  </hx-panelhead>
  <hx-panelbody>
    <hx-alert type="error" target="'diff'"></hx-alert>
    <bigbusy busy="$ctrl.state != 'done' && $ctrl.state != 'empty' && $ctrl.state != 'error'" text="$ctrl.humanState()"></bigbusy>
    <div ng-if="$ctrl.state == 'empty'" class="busyContainer">
      <div class="hxBox-md">
        <h2>{{ $ctrl.humanState() }}</h2>
      </div>
    </div>

    <!-- Detail view begin -->
    <diff-details
      ng-if="$ctrl.details"
      type="$ctrl.details.type"
      identity="$ctrl.details.identity"
      left-time="$ctrl.diff.leftTime"
      right-time="$ctrl.diff.rightTime"
      on-close="$ctrl.closeDetails()" />
    <!--detail view end -->

    <svg id="diff" ng-show="$ctrl.state == 'done'">
      <defs>
        <radialGradient id="addedGradient" cx="50%" cy="50%" r="50%">
          <stop stop-color="#81C784" offset="0%" />
          <stop stop-color="#43A047" offset="50%" />
          <stop stop-color="#1B5E20" offset="100%" />
        </radialGradient>
        <radialGradient id="removedGradient" cx="50%" cy="50%" r="50%">
          <stop stop-color="#ef5350" offset="0%" />
          <stop stop-color="#d32f2f" offset="50%" />
          <stop stop-color="#b71c1c" offset="100%" />
        </radialGradient>
        <radialGradient id="unchangedGradient" cx="50%" cy="50%" r="50%">
          <stop stop-color="#90A4AE" offset="0%" />
          <stop stop-color="#546E7A" offset="50%" />
          <stop stop-color="#37474F" offset="100%" />
        </radialGradient>
      </defs>
    </svg>
  </hx-panelbody>
</hx-panel>
